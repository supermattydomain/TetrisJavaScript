<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Tetris</title>
<link rel="stylesheet" type="text/css" href="styles.css"></link>
<script language="javascript" type="text/javascript" src="js-lib/prototype.js"></script>
<script language="javascript" type="text/javascript" src="js-lib/rico.js"></script>
<script language="javascript" type="text/javascript" src="js-lib/log.js"></script>
<script language="javascript" type="text/javascript" src="tetris.js"></script>
</head>
<body bgcolor="#ffffff">
<h1>Tetris</h1>

<div id="logDiv" class="log"></div>
<div id="boardDiv" class="tetris"></div>

<script language="javascript" type="text/javascript"><!--
var width = 10;
var height = 20;
var board = new TetrisBoard(width, height, $('boardDiv'));

var interval;

function timerFunc() {
	if (!board.tick()) {
		stopRunning();
		showLog('You lose!');
	}
}

function startRunning(delay) {
	interval = setInterval("timerFunc()", delay);
	$('toggleButton').value = 'Pause';
	$('toggleButton').firstChild.value = 'Pause';
}

function stopRunning() {
	clearInterval(interval);
	interval = undefined;
	$('toggleButton').value = 'Go';
	$('toggleButton').firstChild.value = 'Go';
}

function toggleRunning(delay) {
	if (interval) {
		stopRunning();
	} else {
		startRunning(delay);
	}
}

// --></script>

<div id="controls">
	<form action="" onsubmit="return false;">
		<input type="button" id="toggleButton" onclick="toggleRunning(1000);return false;" value="Go">
		<!--
		<input onclick="board.createShape();return false;" value="Create shape">
		-->
		<input type="button" onclick="board.currentShape.fall();return false;" value="Fall">
		<input type="button" onclick="board.currentShape.moveLeft();return false;" value="Left">
		<input type="button" onclick="board.currentShape.moveRight();return false;" value="Right">
		<input type="button" onclick="board.currentShape.drop();return false;" value="Drop">
		<input type="button" onclick="board.currentShape.rotate(true);return false;" value="Rotate clockwise">
		<input type="button" onclick="board.currentShape.rotate(false);return false;" value="Rotate anti-clockwise">
	</form>
</div>

</body>
</html>